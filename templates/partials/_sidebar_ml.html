{# templates/partials/_sidebar_ml.html #}
{# This is a modified version of the sidebar that includes ML features #}

{# Header section of the sidebar #}
<div class="sidebar-header pt-3 pb-2 mb-3 border-bottom px-3 text-center">
    <a href="{{ url_for('index') }}" class="text-decoration-none text-dark d-block">
        <i class="fas fa-chart-pie fa-2x text-primary mb-2"></i>
        <h5 class="mb-0 fw-bold">Finance Dash</h5>
    </a>
    <hr class="my-3">
</div>

{# Search bar section #}
<div class="sidebar-search px-3 mb-3">
    <form method="POST" action="{{ url_for('index') }}" id="searchForm" role="search">
        <label for="stock" class="form-label visually-hidden">Stock Symbol</label>
        <div class="input-group input-group-sm mb-2">
            <input type="text" id="stock" name="stock" class="form-control" placeholder="Enter Symbol (e.g., AAPL)"
                value="{{ session.get('last_symbol', '') }}" required aria-label="Stock Symbol Search">
            <button type="submit" class="btn btn-primary" title="Search Symbol">
                <i class="fas fa-search"></i>
                <span class="visually-hidden">Search</span>
            </button>
        </div>
    </form>
    <hr class="my-3">
</div>

{# Main Navigation Tabs #}
<ul class="nav nav-pills nav-sidebar flex-column mb-auto" id="sidebarTabs" role="tablist">
    {# Overview Tab Link #}
    <li class="nav-item" role="presentation">
        <a class="nav-link active" id="overview-tab" data-bs-toggle="tab" href="#overview" role="tab"
            aria-controls="overview" aria-selected="true">
            <i class="fas fa-chart-line fa-fw me-2"></i> Overview
        </a>
    </li>
    {# News Tab Link #}
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="news-tab" data-bs-toggle="tab" href="#news" role="tab" aria-controls="news"
            aria-selected="false">
            <i class="fas fa-newspaper fa-fw me-2"></i> News
        </a>
    </li>
    {# Details Tab Link #}
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="details-tab" data-bs-toggle="tab" href="#details" role="tab" aria-controls="details"
            aria-selected="false">
            <i class="fas fa-binoculars fa-fw me-2"></i> Details
        </a>
    </li>
    {# Forecasting Tab Link #}
    <li class="nav-item" role="presentation">
        <a class="nav-link" id="forecasting-tab" data-bs-toggle="tab" href="#forecasting" role="tab"
            aria-controls="forecasting" aria-selected="false">
            <i class="fas fa-robot fa-fw me-2"></i> Forecast
        </a>
    </li>
</ul>

{# ML Features Section #}
<div class="px-3 mb-3">
    <h6 class="text-uppercase text-muted small fw-bold mb-2">ML Analysis</h6>
    {% if stock %}
    <div class="d-grid gap-2">
        <a href="{{ url_for('random_forest_analysis', stock=stock) }}" class="btn btn-sm btn-outline-primary">
            <i class="fas fa-tree fa-fw me-1"></i> Random Forest
        </a>
        <a href="{{ url_for('model_comparison', stock=stock) }}" class="btn btn-sm btn-outline-primary">
            <i class="fas fa-balance-scale fa-fw me-1"></i> Model Comparison
        </a>
    </div>
    {% else %}
    <p class="text-muted small">Select a stock to access ML analysis features</p>
    {% endif %}
</div>

{# Sidebar Footer #}
<div class="sidebar-footer px-3 py-2 text-center text-muted small border-top mt-3">
    Â© {{ current_time.year }} Finance Dash
</div>